# ワークフロー作成手順

## 設定ファイル概要
### digファイル
* ワークフロー全体の設計図に該当するファイル
* 実行スケジュールやデータの入力元、出力先を指定する

### ymlファイル
* 外部入出力データの設定を記載するファイル
* 接続情報、文字コード、デリミタ、カラム名等を指定する

### sqlファイル
* エクスポート・インポートするテーブルに対するSQLを記述するファイル
* 業務目的に合わせてカラム名のリネームやレコードのフィルタリングをする
* 必須ではない

## SFTPからTreasureDataへテーブルをインポートするワークフロー設定手順
### 1.ワークフローの設定
1. メニューからWorkflowsを開く
2. New Workflowボタンをクリック
3. Workflof Name：テーブルのインポートであることがわかる名前を付ける
4. Project Name：指定プロジェクトがなければ作成する
5. Workflow Template：Blankを選択する
6. New Workflowボタンがアクティブになるのでクリック

### 2.ファイル定義
1. Edit projectが開くのでdigファイルを定義する
2. 画面右のファイル追加ボタンでymlとsqlファイルを追加して定義する
    * yml：digファイルの __load__ に記載しているymlファイル名で作成する
    * sql：digファイルの __upload__ に記載しているymlファイル名で作成する
3. 作成が終わったらCloseボタンをクリック

### 3.秘密情報の設定
1. 画面右上の ＋ ボタンをクリックして秘密情報を設定する
    * 設定が必要なのはymlファイル中に __secret__ のインデックスが設定されている項目
    * sftpサーバからインポートする場合は以下のsftpサーバ情報を定義する
      * Name：Secret Key
      * sftp.host：IPアドレス
      * sftp.port：ポート番号
      * sftp.user：アカウント名
      * sftp.password：パスワード
