# RDS_DBサーバー構築準備

## １．プライベートサブネットを作成する

1. VPC画面の左メニューから __サブネット__ をクリックする
    * サブネットの一覧（未作成の場合でもデフォルトが存在する）が表示される

2. __サブネットの作成__ をクリックする

3. 以下の入力と設定をして __作成__ をクリックする
    * 名前タグ：aws-dev-private-subnet-1c
    * VPC：aws-dev-vpc
    * アベイラビリティーゾーン：ap-northeast-1c
    * IPv4 CIDR ブロック：10.0.21.0/24

4. 完了画面が表示されるので __閉じる__ をクリックする
    * 一覧に作成されたサブネットが表示される

## ２．セキュリティグループを作成する

1. EC2ダッシュボードの左メニューから __セキュリティグループ__ をクリックする

2. __セキュリティグループを作成__ をクリックする

3. __基本的な詳細__ に以下の入力と設定をする
    * セキュリティグループ名：aws-dev-db
    * 説明：aws-dev-db
    * VPC：aws-dev-vpc

4. インバウンドルールの __ルールを追加__ をクリックして以下の入力と設定をする
    * タイプ：MySQL/Aurora
    * プロトコル：TCP
    * ポート範囲：3306
    * ソース：カスタム
    * セキュリティグループ：aws-dev-webのセキュリティグループID（"asw-"の入力でサジェストが表示される）

5. __作成__ をクリックする
    * aws-dev-dbのセキュリティグループが一覧に表示される

## ３．RDSを作成する

1. RDSの左メニューから __サブネットグループ__ を選択する

2. __DBサブネットグループを作成__ をクリックする

3. __サブネットグループの詳細__ に以下の入力と設定をする
    * 名前：aws-dev-subnet-group
    * 説明：aws-dev-subnet-group
    * VPC：aws-dev-vpc
    * アベイラビリティーゾーン：ap-northeast-1c

4. __サブネットを追加__ で以下の組み合わせのサブネット計2つ設定する
    * アベイラビリティーゾーン：CIDRブロック
    * ap-northeast-1a：10.0.20.0/24
    * ap-northeast-1c：10.0.21.0/24

5. __作成__ をクリックする
    * aws-dev-subnet-groupがサブネットグループ一覧に表示される

## ４．パラメータグループを作成する

1. RDSの左メニューから __パラメータグループ__ を選択する

2. __パラメータグループの作成__ をクリックする

3. __パラメータグループの詳細__ に以下の入力と設定をする
    * パラメータグループファミリー：mysql8.0
    * タイプ：aパラメータグループ
    * グループ名：aws-dev-mysql80
    * 説明：グループ名と同じ

4. __作成__ をクリックする
    * aws-dev-mysql80がパラメータグループ一覧に表示される

## ５．オプショングループを作成する

1. RDSの左メニューから __オプショングループ__ を選択する

2. __グループの作成__ をクリックする

3. __パラメータグループの詳細__ に以下の入力と設定をする
    * 名前：aws-dev-mysql80
    * 説明：グループ名と同じ
    * エンジン：mysql
    * メジャーエンジンのバージョン：8.0

4. __作成__ をクリックする
    * aws-dev-mysql80がオプショングループ一覧に表示される
    * 同時にデフォルトのオプショングループも作成され一覧に表示される
