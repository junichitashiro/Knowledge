# RDS_DBサーバー構築準備

## １．プライベートサブネットを作成する

1. __VPC__ のダッシュボードを開く

2. メニューから __サブネット__ をクリックする
    * サブネットの一覧（未作成の場合でもデフォルトが存在する）が表示される

3. __サブネットの作成__ をクリックする

4. 以下の入力と設定をして __作成__ をクリックする
    * 名前タグ：magenta-magenta-private-subnet-1c
    * VPC：magenta-magenta-vpc
    * アベイラビリティーゾーン：ap-northeast-1c
    * IPv4 CIDR ブロック：10.0.21.0/24

5. 完了画面が表示されるので __閉じる__ をクリックする
    * 一覧に作成されたサブネットが表示される

## ２．セキュリティグループを作成する

1. __EC2__ のダッシュボードを開く

2. メニューから __セキュリティグループ__ をクリックする

3. __セキュリティグループを作成__ をクリックする

4. __基本的な詳細__ に以下の入力と設定をする
    * セキュリティグループ名：magenta-magenta-db
    * 説明：magenta-magenta-db
    * VPC：magenta-magenta-vpc

5. インバウンドルールの __ルールを追加__ をクリックして以下の入力と設定をする
    * タイプ：MySQL/Aurora
    * プロトコル：TCP
    * ポート範囲：3306
    * ソース：カスタム
    * セキュリティグループ：magenta-magenta-webのセキュリティグループID（"asw-"の入力でサジェストが表示される）

6. __作成__ をクリックする
    * magenta-magenta-dbのセキュリティグループが一覧に表示される

## ３．RDSを作成する

1. __RDS__ のダッシュボードを開く

2. メニューから __サブネットグループ__ を選択する

3. __DBサブネットグループを作成__ をクリックする

4. __サブネットグループの詳細__ に以下の入力と設定をする
    * 名前：magenta-magenta-subnet-group
    * 説明：magenta-magenta-subnet-group
    * VPC：magenta-magenta-vpc
    * アベイラビリティーゾーン：ap-northeast-1c

5. __サブネットを追加__ で以下の組み合わせのサブネット計2つ設定する
    * アベイラビリティーゾーン：CIDRブロック
    * ap-northeast-1a：10.0.20.0/24
    * ap-northeast-1c：10.0.21.0/24

6. __作成__ をクリックする
    * magenta-magenta-subnet-groupがサブネットグループ一覧に表示される

## ４．パラメータグループを作成する

1. RDSのメニューから __パラメータグループ__ を選択する

2. __パラメータグループの作成__ をクリックする

3. __パラメータグループの詳細__ に以下の入力と設定をする
    * パラメータグループファミリー：mysql8.0
    * タイプ：aパラメータグループ
    * グループ名：magenta-magenta-mysql80
    * 説明：グループ名と同じ

4. __作成__ をクリックする
    * magenta-magenta-mysql80がパラメータグループ一覧に表示される

## ５．オプショングループを作成する

1. RDSのメニューから __オプショングループ__ を選択する

2. __グループの作成__ をクリックする

3. __パラメータグループの詳細__ に以下の入力と設定をする
    * 名前：magenta-magenta-mysql80
    * 説明：グループ名と同じ
    * エンジン：mysql
    * メジャーエンジンのバージョン：8.0

4. __作成__ をクリックする
    * magenta-magenta-mysql80がオプショングループ一覧に表示される
    * 同時にデフォルトのオプショングループも作成され一覧に表示される
