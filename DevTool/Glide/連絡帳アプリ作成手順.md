# 連絡帳アプリ作成手順

## １．データセットの準備

### テンプレートデータの作成

おおよそ以下の項目を含むデータセットを作成しておく。

* 個人を特定する情報
  * 名前
  * 性別
  * 生年月日
  * 写真用の画像
* 属性を表す情報
  * 部署
  * 役職
  * 出身地
  * 職種
  * アイコン用の画像
* 連絡先情報
  * メールアドレス
  * 電話番号

### アプリ用データの作成

1. テンプレートをコピーする
2. ファイル名を **連絡帳アプリ** に変更する
3. 下記カラムを含むデータセットを作成する
    * メンバーリストシート
      * 名前
      * 性別
      * 出身地
      * 生年月日
      * 職業
      * メールアドレス
      * 電話番号
      * 写真（値は不要）
    * 出身地シート
      * 名称（メンバーリストシートの出身地をユニークにして入力する）
      * アイコン（値は不要）

## ２．データセットからアプリを作成

1. My Apps画面で **New APP** をクリックする
2. Select a sourceで **Google Sheets** を選択する
3. Select a fileで **連絡帳アプリ** を選択する
4. データ反映後の画面イメージが表示される

## ３．メンバーリストタブの調整

1. TABSから **メンバーリスト** を選択する
2. SCREENの **Inline List** をクリックする

### メンバーリストInline Listの調整

1. Inline Listの各要素を以下の設定にする
    * STYLE：Tiles
    * DATA
      * Title：名前
      * Details：出身地
      * Image：写真
    * DESIGN
      * Image is：URL
      * Tile shape：Square
      * Tiles per row：1行2列に合わせる
2. 各メンバーのエリアに写真データをドラッグ＆ドロップする

### メンバーリストDetailsの調整

1. メンバーを1人クリックする
2. **SCREEN** を以下の構成にする
    * **Title**
      * DATA
        * Title：名前
        * Details：Customを選択し空欄のままにしておく
        * Image：写真
      * DESIGN
        * Image is：URL
    * **Action Text**
      * DATA
        * Text：職業
      * DESIGN
        * Title：職業
    * **Email**
      * DATA
        * To：メールアドレス
        * Subject以下：必要に応じて設定する
      * DESIGN
        * Title：メールアドレス
    * **Phone（＋ボタンからアイコンを追加する）**
      * DATA
        * Column：電話番号
        * Message body：空欄のまま
      * DESIGN
        * Title：電話番号
        * Allow text messageにチェック

## ４．出身地タブの調整

1. TABSから **出身地** を選択する
2. SCREENの **Inline List** をクリックする

### 出身地Inline Listの調整

1. Inline Listの各要素を以下の設定にする
    * STYLE：Tiles
    * DATA
      * Title：名称
      * Details：−
      * Image：アイコン
    * DESIGN
      * Image is：URL
      * Tile shape：3:2
      * Tiles per row：1行2列に合わせる
2. 各出身地のエリアにアイコンデータをドラッグ＆ドロップする

### 出身地Detailsの調整

1. 地名を1つクリックする
2. **SCREEN** を以下の構成にする
    * Title
      * DATA
        * Title：名称
        * Details：Customを選択し空欄のままにしておく
        * Image：アイコン
      * DESIGN
        * Image is：URL

## ５．Relationの作成（出身地→メンバー）

**出身地** タブで地名をクリックした時、その出身地のメンバーを表示できるようにする。

### Relationを作成して出身地とメンバーを関連付ける

1. メニュー上部の **Data** アイコンをクリックする
2. 出身地シートを選択する
3. 右上の＋ボタンをクリックし、以下を設定してカラムを追加する
    * Label：出身者
    * Column Type：Relation
    * CONFIGURATION
      * 上段：名称
      * 下段：メンバーリスト > 出身地
    * Match multipleにチェック

### 作成した出身者項目を表示する

1. **出身地** タブを選択状態にする
2. 地名を1つをクリックする
3. SCREEN右の＋ボタンをクリックする
4. LISTS > Inline List を選択する
5. 適宜表示項目を修正する

## ６．Relationの作成（メンバー→出身地）

**メンバーリスト** タブでメンバーをクリックした時、表示される出身地から出身地のメンバーを表示できるようにする。

### Relationを作成してメンバーと出身地を関連付ける

1. メニュー上部の **Data** アイコンをクリックする
2. メンバーリストシートを選択する
3. 右上の＋ボタンをクリックし、以下を設定してカラムを追加する
    * Label：出身地
    * Column Type：Relation
    * CONFIGURATION
      * 上段：出身地
      * 下段：出身地 > 名称

### 作成した出身地項目を表示する

1. **メンバーリスト** タブを選択状態にする
2. メンバーを1人クリックする
3. Screen右の＋ボタンをクリックする
4. BUTTONS > Relation を選択する
5. Detailsを空欄にする（Customを選択し空欄のままにする）
6. 見やすいよう職業の上に項目をドラッグして移動する

## ７．チャットタブの追加

* TABSカテゴリにある **Chat** を非表示設定から表示設定にするとタブを追加することができる
* メッセージを利用する場合は最初に認証作業が必要

## ８．アプリの公開

画面右上の **Publish** ボタンからアプリを公開することができる。

### 公開前のアプリ設定確認

1. メニュー上部の **Settings** アイコンをクリックする
2. 以下の設定を必要に応じて変更する
    * Appearance
      * 基本色の変更
    * App Info
      * ICON：アプリの表示アイコン
      * Name：アプリの名前

### アプリの公開

1. **Publish** をクリックする
2. **Publish app** をクリックする
3. QRコード、URLリンクが表示される
